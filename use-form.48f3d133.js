import{r as l,bu as S,ad as h}from"./vendor.18c76fc2.js";import{a as y}from"./assets/index.6024a31e.js";function B(n){const a=l(!1),c=l("\u6DFB\u52A0");function t(u="\u65B0\u589E"){c.value=u,a.value=!0}function s(){a.value=!1}function v(u,r){if(c.value==="\u7F16\u8F91"){const m=n.value.findIndex(f=>f.id===r),d=n.value.filter(f=>f.id===r).length;n.value.splice(m,d,...u)}else n.value=n.value.concat(u)}return{visible:a,title:c,onShow:t,onClose:s,onSubmit:v}}function w(n,a){S(JSON.stringify(n),a)}function E(n,a,c){const{uniqueBy:t}=y(),s=h({id:"",name:"",color:"",size:"",area:""}),v=l([]),u=l([]),r=l([]),m=l([]),d=l(!1);function f(o){const e=[{value:"",label:"\u5168\u90E8"}],i=p=>({value:`${p}`,label:`${p}`});v.value=e.concat(t(o,"name").map(i)),u.value=e.concat(t(o,"color").map(i)),r.value=e.concat(t(o,"area").map(i)),m.value=e.concat(t(o,"size").map(i))}function b(){Object.keys(s).forEach(e=>{s[e]&&(a.value=n.value.filter(i=>i[e]===s[e]))}),c(a.value),d.value=!0}function F(o,e="shoe"){w(o,`${e}.json`)}return{form:s,isQuery:d,names:v,colors:u,areas:r,sizes:m,initSelect:f,onQuery:b,onSave:F}}export{E as a,B as u};
